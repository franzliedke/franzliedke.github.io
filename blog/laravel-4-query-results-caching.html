<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

            <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@franzliedke" />
    <meta name="twitter:title" content="Laravel 4: Query results caching" />
    <meta name="twitter:description" content="With Laravel&#039;s database layer, results of database queries can easily be stored and retrieved from cache." />


                    <link rel="stylesheet" href="/css/main-3b16b85795.css">
                    <link rel="stylesheet" href="/css/main-8e5930108f.css">
        
    </head>
    <body>
        <header>
            <h1>
                <a href="/">Franz Liedke</a>
            </h1>

            <nav>
                <ul>
                    <li><a href="/about.html">About me</a></li>
                    <li><a href="/blog">Blog</a></li>
                </ul>
            </nav>

            <p class="about">
                Master of Science, IT-Systems Engineering<br />
                Web developer, Laravel core contributor<br />
                Open-source enthusiast, Flarum &amp; FluxBB
            </p>
        </header>

        <main>
            
    <article>
        <h1>Laravel 4: Query results caching</h1>
        <time class="article-date" datetime="2013-05-29T12:00">2013-05-29</time>
        <p>It is here!
Laravel 4.0 was released yesterday.
Obviously, Taylor was very busy in the past days, trying to fix remaining bugs.
Still, he even had time to introduce some nice new features every now and then.</p>
<p>A very recent example for such a feature would be query results caching.</p>
<p>With a very simple chained method call, you can make sure that long-running or frequently-run queries are executed only once every hour, with the result being cached in the meantime.</p>
<pre><code class="language-php">$users = DB::table('users')
           -&gt;orderBy('num_posts', 'desc')
           -&gt;take(5)
           -&gt;remember(60)
           -&gt;get();</code></pre>
<p>What this does behind the scenes: it executes the query once and stores it along with the results using the cache adapter, with an expiration time of 60 minutes.
When this code is run again, the cached query statement will be found, and the query won’t be executed, but instead the results will be taken directly from the cache.</p>
<p>Of course, this also works with Eloquent queries.
If you have a user model, you can do this instead:</p>
<pre><code class="language-php">$users = User::orderBy('num_posts', 'desc')
             -&gt;take(5)
             -&gt;remember(60)
             -&gt;get();</code></pre>
<p>Who’s looking sharp now?</p>

        <div id="disqus_thread"></div>
<script>
    (function() {
        var d = document, s = d.createElement('script');

        s.src = '//develophp.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>    </article>

        </main>
    </body>
</html>
